#include "mbed.h"
#include <cstdint>

AnalogOut Aout(D7);
AnalogIn Ain(A0);
int sample = 79;
double data[81] = {0, 0.24113962, 0.47918328, 0.71119198, 0.93452408, 1.14694537,
 1.3467003 , 1.53254192, 1.70372352, 1.85995906, 2.00136196, 2.12837175,
 2.24167729, 2.34214331, 2.43074464, 2.50851085, 2.57648187, 2.63567448,
 2.68705836, 2.73154036, 2.76995537, 2.8030623 , 2.83154375, 2.85600836,
 2.87699497, 2.89497766, 2.91037146, 2.92353817, 2.93479198, 2.94440498,
 2.95261215, 2.95961596, 2.96559062, 2.97068569, 2.97502949, 2.97873191,
 2.98188703, 2.9845753 , 2.98686546, 2.98881623, 2.98881623, 2.98686546,
 2.9845753 , 2.98188703, 2.97873191, 2.97502949, 2.97068569, 2.96559062,
 2.95961596, 2.95261215, 2.94440498, 2.93479198, 2.92353817, 2.91037146,
 2.89497766, 2.87699497, 2.85600836, 2.83154375, 2.8030623 , 2.76995537,
 2.73154036, 2.68705836, 2.63567448, 2.57648187, 2.50851085, 2.43074464,
 2.34214331, 2.24167729, 2.12837175, 2.00136196, 1.85995906, 1.70372352,
 1.53254192, 1.3467003 , 1.14694537, 0.93452408, 0.71119198, 0.47918328,
 0.24113962};
int i;

// main() runs in its own thread in the OS
int main()
{
    while (true) {
        for (i = 0; i < sample; i++){
            Aout.write_u16((uint16_t)((data[i])/5 * 0x7FFF));
            //printf("%f\r\n", data[i]);
            
        }
    }
}

